### Что такое класс?

Класс – это способ описания сущности, определяющий состояние и поведение, зависящее от этого состояния, а также правила для взаимодействия с данной сущностью (контракт). С точки зрения программирования класс можно рассматривать как набор данных (полей, атрибутов, членов класса) и функций для работы с ними (методов).

### Что такое self в классах?

`self`  - специальный параметр, который передается первым аргументом в метод класса и представляет собой ссылку на экземпляр класса. Он используется для доступа к атрибутам и методам экземпляра из методов класса.

### Что такое __new__. И чем он отличается от __init__. В какой последовательности они выполняются

Основное различие между этими двумя методами состоит в том, что `__new__` обрабатывает создание объекта, а `__init__` обрабатывает его инициализацию.

`__new__` вызывается автоматически при вызове имени класса (при создании экземпляра), тогда как `__init__` вызывается каждый раз, когда экземпляр класса возвращается `__new__`, передавая возвращаемый экземпляр в `__init__` в качестве параметра `self`, поэтому даже если вы сохранили экземпляр где-нибудь глобально/статически и возвращали его каждый раз из `__new__`, для него все-равно будет каждый раз вызываться `__init__`.

Из вышесказанного вытекает что сначала вызывается `__new__`, а потом `__init__`

### Что такое __prepare__, 

Метод обычно вызывается перед инициализацией объекта и создаёт словарь имен для объекта, этот словарь может быть использован в __new__ и __init__. В python 3.12 поведение изменено, и этот словарь удаляется после создания объекта.

### Зачем нужен метод super?

Метод `super` позволяет наследовать базовые классы (они же суперклассы или родительские классы) без необходимости явно ссылаться на базовый класс.

### Как в python реализуются методы объекта, класса, статические методы? Чем они отличаются?

### Чем отличается атрибут класса от атрибута объекта?

Атрибут **объекта** (переменная **экземпляра**) предназначен для данных уникальных для каждого объекта.

Атрибут **класса** (переменная **класса**) - для всех экземпляров класса.

### Что такое абстрактный класс? Зачем он нужен? Как реализуется в python?

Абстрактный класс определяет общий интерфейс для набора подклассов. Он предоставляет общие атрибуты и методы для всех подклассов, чтобы уменьшить дублирование кода, также заставляя подклассы реализовывать абстрактные методы, чтобы избежать каких-то несоответствий.

Абстрактный класс используется для определения общего интерфейса для различных реализаций.

Абстрактный класс имеет некоторые особенности, а именно:
- Может содержать только абстрактные методы (объявление метода, без его подробной реализации).
- Предоставляет интерфейс для подклассов.
- Экземпляр абстрактного класса не создаётся.
- Производный подкласс должен реализовать абстрактные методы для создания конкретного класса, который соответствует интерфейсу, определенному абстрактным классом. Следовательно, экземпляр не может быть создан, пока не будут переопределены все его абстрактные методы.

Пример абстрактного класса в реализации паттерна абстрактной [фабрики](https://refactoring.guru/ru/design-patterns/abstract-factory/python/example)
```python
from abc import ABC, abstractmethod

class AbstractFactory(ABC):
    @abstractmethod
    def create_product_a(self) -> AbstractProductA:
        pass

    @abstractmethod
    def create_product_b(self) -> AbstractProductB:
        pass
```

### Что такое миксины?

`Mixin` — это класс, предоставляющий реализации методов для повторного использования дочерними классами. Он представляет ограниченную форму множественного наследования и родительский класс, который просто даёт функциональные возможности подклассам, не содержит состояния и не предназначен для создания экземпляров.

Миксины используются, когда необходимо:
- предоставить множество дополнительных функций для класса;
- использовать определённую функцию во множестве разных классов.

### Что такое метаклассы?

- [Метаклассы в Python: что это такое и с чем его едят](https://proglib.io/p/metaclasses-in-python/)
- [Метаклассы в Python](https://habr.com/ru/post/145835/)

Метакласс  - это «штука», которая создаёт классы.

Когда классы являются объектами для создания других объектах, метаклассы в этих самых классах создают эти самые объекты.

`type` это метакласс, который Python внутренне использует для создания всех классов.

Когда вы пишете:

```python
class Foo(Bar):
  pass
```

Питон делает следующее:

- Есть ли у класса Foo атрибут `__metaclass__`?
- Если да, создаёт в памяти объект-класс с именем Foo, используя то, что указано в `__metaclass__`.
- Если Питон не находит `__metaclass__`, он ищет `__metaclass__` в родительском классе Bar и попробует сделать то же самое.
- Если же `__metaclass__` не находится ни в одном из родителей, Питон будет искать `__metaclass__` на уровне модуля.
- И если он не может найти вообще ни одного `__metaclass__`, он использует `type` для создания объекта-класса.

Логика работы метакласса:
- перехватить создание класса
- изменить класс
- вернуть модифицированный

Основное применение метаклассов это создание API. Типичный пример — Django ORM. Она позволяет написать что-то в таком духе:

```python
class Person(models.Model):
  name = models.CharField(max_length=30)
  age = models.IntegerField()
```

Однако если вы выполните следующий код:

```python
guy = Person(name='bob', age='35')
print guy.age
```

вы получите не `IntegerField`, а `int`, причём значение может быть получено прямо из базы данных.

Это возможно, потому что `models.Model` определяет `__metaclass__`, который сотворит некую магию и превратит класс `Person`, который мы только что определили простым выражением в сложную привязку к базе данных.

Django делает что-то сложное выглядящее простым, выставляя наружу простой API и используя метаклассы, воссоздающие код из API и незаметно делающие всю работу.

### Что такое MRO?

Method Resolution Order, порядок разрешения методов. Алгоритм, по которому следует искать метод в случае, если у класса два и более родителей.

В классических классах поиск при наследовании по ссылкам на имена осуществляется в следующем порядке:

1. Сначала экземпляр
2. Затем его класс
3. Далее все суперклассы его класса с обходом сначала с глубину, а затем слева направо

Используется первое обнаруженное вхождение. Такой порядок называется DFLR (Обход в глубину и слева направо).


>В каком порядке Python будет искать методы в классе class A(B, C, D):, если все родительские классы унаследованы только от object?
>Правильный ответ: Сначала дочерний класс, потом родительские классы слева направо A, B, C, D

Отличие MRO3 от MRO2 в том, что с python3 все классы начали наследоваться от класса object.

### Что такое NULL reference?

Плохая практика написания функции или метода, который может вернуть объект NoneType вместо исключения. Практика в Python не запрещена, но не поощряется. 